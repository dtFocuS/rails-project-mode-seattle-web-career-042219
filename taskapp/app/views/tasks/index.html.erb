<%= render "layouts/header"%>
<h1>My Tasks</h1>
<style>
  button {
    margin-left: 31%;
  }
</style>
<div class="buttons">
  <button><<</button>
  <button>>></button>
</div>

<%i = 1%>
<% @tasks.each do |task|%>
  <h3>Task <%= i%></h3>
  <p>Description: <%= task.description%></p>
  <p>Start Date: <%=task.date%></p>
  <p>Duration: <%=task.duration%></p>
  <%= link_to "Details", task%>
  <%i += 1%>
<%end%>




<table id="calendar">
  <caption>September 2019</caption>
  <tr class="weekdays">
    <th scope="col">Sunday</th>
    <th scope="col">Monday</th>
    <th scope="col">Tuesday</th>
    <th scope="col">Wednesday</th>
    <th scope="col">Thursday</th>
    <th scope="col">Friday</th>
    <th scope="col">Saturday</th>
  </tr>


  <%j = 1%>
  <tr class="days">
    <% while j < Date.new(Time.now.year, Time.now.month, -1).day + 1%>
    <td class="day">
      <div class="date"><%= j%></div>
        <% @tasks.each do |task|%>
          <div class="event">
          <% if task.day == j%>
            <%if task.urgent%>
              <div class="event-desc error">
                <%= task.description%>
              </div>
            <%else%>
              <div class="event-desc">
                <%= task.description%>
              </div>
            <%end%>
              <div class="event-time">
                <%= task.duration%>
              </div>
            </div>
          </div>
        <%end%>
      <%end%>
    </td>

    <%j += 1%>
    <%end%>

</table>
